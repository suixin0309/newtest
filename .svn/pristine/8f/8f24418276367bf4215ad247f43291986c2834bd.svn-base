<template>
  <div>
    <a-menu
      style="width: 100%"
      mode="vertical"
      :defaultSelectedKeys="['dataStandard']"
      theme="dark"
      @click="handleClick"
    >
      <template v-for="item in menuList">
        <a-sub-menu :key="item.name" :index="item.name"
                    v-if="item.children&&item.children.length>0&&item.children[0].name">
          <span slot="title">
                <a-icon type="appstore"/><span> {{item.meta.name}}</span>
          </span>
          <a-menu-item :key="item.name+'1'" :index="item.name+'1'">
            <router-link :to="`/nav/${item.path}`">
              <a-icon type="appstore"/>
              <span> {{item.meta.name}}</span>
            </router-link>
          </a-menu-item>
          <a-menu-item v-for="v in item.children" :key="v.name"
                       :index="v.name">
            <router-link :to="`/nav/${item.path}/${v.path}`">
              <a-icon type="appstore"/>
              <span> {{v.meta.name}}</span>
            </router-link>
          </a-menu-item>
        </a-sub-menu>

        <a-menu-item :key="item.name" :index="item.name" v-else>
          <router-link :to="'/nav/'+item.path">
            <a-icon type="appstore"/>
            <span> {{item.meta.name}}</span>
          </router-link>
        </a-menu-item>
      </template>
    </a-menu>
  </div>
</template>
<script>
  import MenuItem from './MenuItem';

  export default {
    name: 'MainMenu',
    props: {
      menuList: {
        type: Array,
        default: function () {
          return [];
        }
      }
    },
    data () {
      return {
        collapsed: false,
        test: 9
      };
    },
    beforeMount: function () {
    },
    components: {
      MenuItem
    },
    computed: {},
    methods: {
      handleClick: function (e) {
        console.log(e);
      }
    }
  };
</script>
<style>
  #components-layout-demo-custom-trigger .trigger {
    font-size: 18px;
    line-height: 64px;
    padding: 0 24px;
    cursor: pointer;
    transition: color .3s;
  }
  #components-layout-demo-custom-trigger .trigger:hover {
    color: #1890ff;
  }
  #components-layout-demo-custom-trigger .logo {
    height: 32px;
    background: rgba(255, 255, 255, .2);
    margin: 16px;
  }
</style>
